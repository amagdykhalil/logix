@php
    $currentRoute = request()->route()->getName();

    $sidebarItems = [
        [
            'active' => $currentRoute === 'dashboard',
            'label' => 'الرئيسية',
            'route' => 'dashboard',
            'icon' =>
                '<svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M22 11.4V4.6C22 3.1 21.36 2.5 19.77 2.5H15.73C14.14 2.5 13.5 3.1 13.5 4.6V11.4C13.5 12.9 14.14 13.5 15.73 13.5H19.77C21.36 13.5 22 12.9 22 11.4Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M22 20.4V18.6C22 17.1 21.36 16.5 19.77 16.5H15.73C14.14 16.5 13.5 17.1 13.5 18.6V20.4C13.5 21.9 14.14 22.5 15.73 22.5H19.77C21.36 22.5 22 21.9 22 20.4Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M10.5 13.6V20.4C10.5 21.9 9.86 22.5 8.27 22.5H4.23C2.64 22.5 2 21.9 2 20.4V13.6C2 12.1 2.64 11.5 4.23 11.5H8.27C9.86 11.5 10.5 12.1 10.5 13.6Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M10.5 4.6V6.4C10.5 7.9 9.86 8.5 8.27 8.5H4.23C2.64 8.5 2 7.9 2 6.4V4.6C2 3.1 2.64 2.5 4.23 2.5H8.27C9.86 2.5 10.5 3.1 10.5 4.6Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',
        ],
        [
            'active' => $currentRoute === 'calls',
            'label' => 'المكالمات',
            'route' => 'calls',
            'icon' =>
                '<svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15.8081 20.43C15.5481 20.43 15.2781 20.42 14.9881 20.39C14.4681 20.35 13.8781 20.25 13.2681 20.1L11.5881 19.7C6.97812 18.61 5.46812 16.17 6.54812 11.57L7.52812 7.38001C7.74812 6.43002 8.00812 5.66002 8.32812 5.02002C10.0481 1.47002 13.3381 1.79001 15.6781 2.34001L17.3481 2.73001C19.6881 3.28001 21.1681 4.15001 21.9981 5.48002C22.8181 6.81002 22.9481 8.52001 22.3981 10.86L21.4181 15.04C20.5581 18.7 18.7681 20.43 15.8081 20.43ZM13.1181 3.50001C11.4481 3.50001 10.3881 4.19002 9.67812 5.67002C9.41812 6.21002 9.18812 6.88001 8.98812 7.72001L8.00812 11.91C7.11812 15.69 8.14812 17.34 11.9281 18.24L13.6081 18.64C14.1481 18.77 14.6581 18.85 15.1181 18.89C17.8381 19.16 19.1881 17.97 19.9481 14.7L20.9281 10.52C21.3781 8.59002 21.3181 7.24002 20.7181 6.27001C20.1181 5.30001 18.9381 4.64002 16.9981 4.19002L15.3281 3.80001C14.4981 3.60001 13.7581 3.50001 13.1181 3.50001Z" fill="white"/><path d="M8.32907 22.5C5.75908 22.5 4.11907 20.96 3.06907 17.71L1.78907 13.76C0.369075 9.35999 1.63907 6.87999 6.01907 5.45999L7.59907 4.94999C8.11907 4.78999 8.50907 4.67999 8.85907 4.61999C9.14907 4.55999 9.42908 4.66999 9.59908 4.89999C9.76908 5.12999 9.79908 5.42999 9.67908 5.68999C9.41908 6.21999 9.18907 6.88999 8.99907 7.72999L8.01908 11.92C7.12908 15.7 8.15907 17.35 11.9391 18.25L13.6191 18.65C14.1591 18.78 14.6691 18.86 15.1291 18.9C15.4491 18.93 15.7091 19.15 15.7991 19.46C15.8791 19.77 15.7591 20.09 15.4991 20.27C14.8391 20.72 14.0091 21.1 12.9591 21.44L11.3791 21.96C10.2291 22.32 9.22907 22.5 8.32907 22.5ZM7.77908 6.46999L6.48907 6.88999C2.91907 8.03999 2.06907 9.71999 3.21907 13.3L4.49907 17.25C5.65907 20.82 7.33908 21.68 10.9091 20.53L12.4891 20.01C12.5491 19.99 12.5991 19.97 12.6591 19.95L11.5991 19.7C6.98908 18.61 5.47907 16.17 6.55907 11.57L7.53907 7.37999C7.60908 7.05999 7.68907 6.74999 7.77908 6.46999Z" fill="white"/><path d="M17.4894 10.76C17.4294 10.76 17.3694 10.75 17.2994 10.74L12.4494 9.51002C12.0494 9.41002 11.8094 9.00002 11.9094 8.60002C12.0094 8.20002 12.4194 7.96002 12.8194 8.06002L17.6694 9.29002C18.0694 9.39002 18.3094 9.80002 18.2094 10.2C18.1294 10.53 17.8194 10.76 17.4894 10.76Z" fill="white"/><path d="M14.5611 14.14C14.5011 14.14 14.4411 14.13 14.3711 14.12L11.4611 13.38C11.0611 13.28 10.8211 12.87 10.9211 12.47C11.0211 12.07 11.4311 11.83 11.8311 11.93L14.7411 12.67C15.1411 12.77 15.3811 13.18 15.2811 13.58C15.2011 13.92 14.9011 14.14 14.5611 14.14Z" fill="white"/></svg>',
        ],
        [
            'active' => $currentRoute === 'stats',
            'label' => 'إحصائيات',
            'route' => 'stats',
            'icon' =>
                '<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M5.17297 10.27H3.6663C3.1838 10.27 2.79297 10.6617 2.79297 11.1434V16.835C2.79297 17.3167 3.18464 17.7084 3.6663 17.7084H5.1738C5.65714 17.7084 6.04797 17.3167 6.04797 16.8342V11.1434C6.04775 10.9116 5.95558 10.6894 5.79169 10.5255C5.6278 10.3616 5.40558 10.2694 5.1738 10.2692M10.7521 2.29169H9.24547C8.76214 2.29169 8.3713 2.68335 8.3713 3.16585V16.8334C8.3713 17.3167 8.76297 17.7075 9.2463 17.7075H10.7521C11.2355 17.7075 11.6263 17.3159 11.6263 16.8334V3.16669C11.6263 2.68335 11.2346 2.29252 10.7513 2.29252M16.3313 6.60585H14.8238C14.3405 6.60585 13.9496 6.99752 13.9496 7.48085V16.8334C13.9496 17.3167 14.3413 17.7075 14.8238 17.7075H16.3305C16.5622 17.7073 16.7845 17.6151 16.9484 17.4512C17.1122 17.2874 17.2044 17.0651 17.2046 16.8334V7.48002C17.2046 6.99669 16.813 6.60585 16.3296 6.60585" stroke="white" stroke-width="0.975" stroke-linecap="round" stroke-linejoin="round"/> </svg> ',
        ],
        [
            'active' => $currentRoute === 'subscriptions' || $currentRoute === 'package-customization',
            'label' => 'الاشتراكات',
            'route' => 'subscriptions',
            'icon' =>
                '<svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M15 23H9C3.57 23 1.25 20.68 1.25 15.25V9.25C1.25 3.82 3.57 1.5 9 1.5H15C20.43 1.5 22.75 3.82 22.75 9.25V15.25C22.75 20.68 20.43 23 15 23ZM9 3C4.39 3 2.75 4.64 2.75 9.25V15.25C2.75 19.86 4.39 21.5 9 21.5H15C19.61 21.5 21.25 19.86 21.25 15.25V9.25C21.25 4.64 19.61 3 15 3H9Z" fill="white"/><path d="M7.32816 15.49C7.16816 15.49 7.00816 15.44 6.86816 15.33C6.53816 15.08 6.47816 14.61 6.72816 14.28L9.10816 11.19C9.39816 10.82 9.80816 10.58 10.2782 10.52C10.7382 10.46 11.2082 10.59 11.5782 10.88L13.4082 12.32C13.4782 12.38 13.5482 12.38 13.5982 12.37C13.6382 12.37 13.7082 12.35 13.7682 12.27L16.0782 9.29001C16.3282 8.96001 16.8082 8.90001 17.1282 9.16001C17.4582 9.41001 17.5182 9.88001 17.2582 10.21L14.9482 13.19C14.6582 13.56 14.2482 13.8 13.7782 13.85C13.3082 13.91 12.8482 13.78 12.4782 13.49L10.6482 12.05C10.5782 11.99 10.4982 11.99 10.4582 12C10.4182 12 10.3482 12.02 10.2882 12.1L7.90816 15.19C7.77816 15.39 7.55816 15.49 7.32816 15.49Z" fill="white"/></svg>',
        ],
        [
            'active' => $currentRoute === 'team',
            'label' => 'فريق العمل',
            'route' => 'team',
            'icon' =>
                '<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.7897 9.42855C15.3012 9.42855 15.7917 9.63174 16.1534 9.99342C16.5151 10.3551 16.7183 10.8456 16.7183 11.3571V16.7134C16.7183 17.9639 16.2215 19.1633 15.3372 20.0475C14.453 20.9318 13.2537 21.4286 12.0031 21.4286C10.7526 21.4286 9.55328 20.9318 8.66902 20.0475C7.78476 19.1633 7.28799 17.9639 7.28799 16.7134V11.3571C7.28799 10.8456 7.49118 10.3551 7.85285 9.99342C8.21453 9.63174 8.70507 9.42855 9.21656 9.42855H14.7897ZM14.7897 10.7143H9.21656C9.04606 10.7143 8.88255 10.782 8.76199 10.9026C8.64143 11.0231 8.5737 11.1866 8.5737 11.3571V16.7134C8.5737 17.623 8.93502 18.4952 9.57816 19.1384C10.2213 19.7815 11.0936 20.1428 12.0031 20.1428C12.9127 20.1428 13.785 19.7815 14.4281 19.1384C15.0712 18.4952 15.4326 17.623 15.4326 16.7134V11.3571C15.4326 11.1866 15.3648 11.0231 15.2443 10.9026C15.1237 10.782 14.9602 10.7143 14.7897 10.7143ZM3.64342 9.42855H7.2057C6.86147 9.78677 6.61964 10.2308 6.50542 10.7143H3.64342C3.47292 10.7143 3.30941 10.782 3.18885 10.9026C3.06829 11.0231 3.00056 11.1866 3.00056 11.3571V15.8563C3.00022 16.2864 3.1078 16.7098 3.31344 17.0876C3.51909 17.4654 3.81623 17.7856 4.17766 18.0189C4.53908 18.2521 4.95325 18.391 5.38223 18.4227C5.81122 18.4544 6.24131 18.3781 6.63313 18.2006C6.74713 18.6206 6.91085 19.02 7.11656 19.3937C6.52932 19.6503 5.88739 19.7566 5.24877 19.7029C4.61016 19.6492 3.99499 19.4372 3.45885 19.0861C2.92271 18.735 2.48251 18.2559 2.17802 17.6919C1.87352 17.128 1.71434 16.4971 1.71484 15.8563V11.3571C1.71484 10.8456 1.91803 10.3551 2.27971 9.99342C2.64139 9.63174 3.13193 9.42855 3.64342 9.42855ZM20.3577 9.42855C20.8692 9.42855 21.3597 9.63174 21.7214 9.99342C22.0831 10.3551 22.2863 10.8456 22.2863 11.3571V15.8571C22.2865 16.4976 22.1273 17.128 21.823 17.6915C21.5187 18.255 21.0789 18.7338 20.5432 19.0849C20.0075 19.4359 19.3929 19.648 18.7548 19.702C18.1166 19.7561 17.4751 19.6504 16.888 19.3946L16.936 19.3071C17.1194 18.9591 17.2677 18.5897 17.374 18.2023C17.7656 18.3785 18.1951 18.4538 18.6233 18.4214C19.0516 18.3889 19.4648 18.2498 19.8254 18.0166C20.1861 17.7834 20.4825 17.4636 20.6878 17.0864C20.8931 16.7092 21.0006 16.2866 21.0006 15.8571V11.3571C21.0006 11.1868 20.9329 11.0234 20.8126 10.9029C20.6922 10.7823 20.5289 10.7145 20.3586 10.7143H17.5017C17.3872 10.2307 17.1451 9.78667 16.8006 9.42855H20.3577ZM12.0006 2.57141C12.3945 2.57141 12.7846 2.64901 13.1486 2.79977C13.5126 2.95054 13.8433 3.17152 14.1219 3.45009C14.4005 3.72867 14.6214 4.05938 14.7722 4.42336C14.923 4.78734 15.0006 5.17745 15.0006 5.57141C15.0006 5.96538 14.923 6.35548 14.7722 6.71946C14.6214 7.08344 14.4005 7.41416 14.1219 7.69273C13.8433 7.97131 13.5126 8.19229 13.1486 8.34305C12.7846 8.49381 12.3945 8.57141 12.0006 8.57141C11.2049 8.57141 10.4418 8.25534 9.87924 7.69273C9.31663 7.13012 9.00056 6.36706 9.00056 5.57141C9.00056 4.77576 9.31663 4.0127 9.87924 3.45009C10.4418 2.88748 11.2049 2.57141 12.0006 2.57141ZM18.8603 3.42855C19.198 3.42855 19.5323 3.49507 19.8443 3.62429C20.1563 3.75352 20.4398 3.94293 20.6785 4.18171C20.9173 4.42049 21.1067 4.70396 21.236 5.01594C21.3652 5.32792 21.4317 5.6623 21.4317 5.99998C21.4317 6.33767 21.3652 6.67205 21.236 6.98403C21.1067 7.29601 20.9173 7.57948 20.6785 7.81826C20.4398 8.05704 20.1563 8.24645 19.8443 8.37567C19.5323 8.5049 19.198 8.57141 18.8603 8.57141C18.1783 8.57141 17.5242 8.30049 17.042 7.81826C16.5598 7.33602 16.2888 6.68197 16.2888 5.99998C16.2888 5.318 16.5598 4.66394 17.042 4.18171C17.5242 3.69947 18.1783 3.42855 18.8603 3.42855ZM5.14085 3.42855C5.47853 3.42855 5.81291 3.49507 6.12489 3.62429C6.43687 3.75352 6.72034 3.94293 6.95912 4.18171C7.1979 4.42049 7.38731 4.70396 7.51654 5.01594C7.64576 5.32792 7.71227 5.6623 7.71227 5.99998C7.71227 6.33767 7.64576 6.67205 7.51654 6.98403C7.38731 7.29601 7.1979 7.57948 6.95912 7.81826C6.72034 8.05704 6.43687 8.24645 6.12489 8.37567C5.81291 8.5049 5.47853 8.57141 5.14085 8.57141C4.45886 8.57141 3.80481 8.30049 3.32257 7.81826C2.84033 7.33602 2.56942 6.68197 2.56942 5.99998C2.56942 5.318 2.84033 4.66394 3.32257 4.18171C3.80481 3.69947 4.45886 3.42855 5.14085 3.42855ZM12.0006 3.85713C11.5459 3.85713 11.1099 4.03774 10.7884 4.35923C10.4669 4.68072 10.2863 5.11675 10.2863 5.57141C10.2863 6.02607 10.4669 6.4621 10.7884 6.78359C11.1099 7.10508 11.5459 7.2857 12.0006 7.2857C12.4552 7.2857 12.8913 7.10508 13.2127 6.78359C13.5342 6.4621 13.7148 6.02607 13.7148 5.57141C13.7148 5.11675 13.5342 4.68072 13.2127 4.35923C12.8913 4.03774 12.4552 3.85713 12.0006 3.85713ZM18.8603 4.71427C18.6914 4.71427 18.5242 4.74752 18.3683 4.81214C18.2123 4.87675 18.0705 4.97146 17.9511 5.09084C17.8317 5.21023 17.737 5.35197 17.6724 5.50796C17.6078 5.66395 17.5746 5.83114 17.5746 5.99998C17.5746 6.16882 17.6078 6.33601 17.6724 6.492C17.737 6.64799 17.8317 6.78973 17.9511 6.90912C18.0705 7.02851 18.2123 7.12321 18.3683 7.18783C18.5242 7.25244 18.6914 7.2857 18.8603 7.2857C19.2013 7.2857 19.5283 7.15024 19.7694 6.90912C20.0105 6.668 20.146 6.34098 20.146 5.99998C20.146 5.65899 20.0105 5.33196 19.7694 5.09084C19.5283 4.84973 19.2013 4.71427 18.8603 4.71427ZM5.14085 4.71427C4.972 4.71427 4.80481 4.74752 4.64882 4.81214C4.49283 4.87675 4.3511 4.97146 4.23171 5.09084C4.11232 5.21023 4.01761 5.35197 3.953 5.50796C3.88839 5.66395 3.85513 5.83114 3.85513 5.99998C3.85513 6.16882 3.88839 6.33601 3.953 6.492C4.01761 6.64799 4.11232 6.78973 4.23171 6.90912C4.3511 7.02851 4.49283 7.12321 4.64882 7.18783C4.80481 7.25244 4.972 7.2857 5.14085 7.2857C5.48184 7.2857 5.80886 7.15024 6.04998 6.90912C6.2911 6.668 6.42656 6.34098 6.42656 5.99998C6.42656 5.65899 6.2911 5.33196 6.04998 5.09084C5.80886 4.84973 5.48184 4.71427 5.14085 4.71427Z" fill="white"/></svg>',
        ],
        [
            'active' => $currentRoute === 'tutorial',
            'label' => 'تعلم النظام',
            'route' => 'tutorial',
            'icon' =>
                '<svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.20078 4.35002H16.8008C17.119 4.35002 17.4243 4.47645 17.6493 4.7015C17.8744 4.92654 18.0008 5.23176 18.0008 5.55002V11.5764C18.4136 11.614 18.8136 11.688 19.2008 11.7984V5.55002C19.2008 4.9135 18.9479 4.30306 18.4978 3.85297C18.0478 3.40288 17.4373 3.15002 16.8008 3.15002H7.20078C6.56426 3.15002 5.95381 3.40288 5.50372 3.85297C5.05364 4.30306 4.80078 4.9135 4.80078 5.55002V19.95C4.80078 20.5865 5.05364 21.197 5.50372 21.6471C5.95381 22.0972 6.56426 22.35 7.20078 22.35H12.3092C12.0035 21.9799 11.7392 21.5775 11.5208 21.15H7.20078C6.88252 21.15 6.5773 21.0236 6.35225 20.7986C6.12721 20.5735 6.00078 20.2683 6.00078 19.95H11.0492C10.9383 19.5577 10.864 19.156 10.8272 18.75H6.00078V5.55002C6.00078 5.23176 6.12721 4.92654 6.35225 4.7015C6.5773 4.47645 6.88252 4.35002 7.20078 4.35002ZM8.40078 5.55002C8.08252 5.55002 7.7773 5.67645 7.55225 5.9015C7.32721 6.12654 7.20078 6.43176 7.20078 6.75002V7.95002C7.20078 8.26828 7.32721 8.57351 7.55225 8.79855C7.7773 9.0236 8.08252 9.15002 8.40078 9.15002H15.6008C15.919 9.15002 16.2243 9.0236 16.4493 8.79855C16.6744 8.57351 16.8008 8.26828 16.8008 7.95002V6.75002C16.8008 6.43176 16.6744 6.12654 16.4493 5.9015C16.2243 5.67645 15.919 5.55002 15.6008 5.55002H8.40078ZM15.6008 6.75002V7.95002H8.40078V6.75002H15.6008ZM22.8008 18.15C22.8008 19.5822 22.2319 20.9557 21.2192 21.9684C20.2065 22.9811 18.833 23.55 17.4008 23.55C15.9686 23.55 14.5951 22.9811 13.5824 21.9684C12.5697 20.9557 12.0008 19.5822 12.0008 18.15C12.0008 16.7179 12.5697 15.3443 13.5824 14.3316C14.5951 13.319 15.9686 12.75 17.4008 12.75C18.833 12.75 20.2065 13.319 21.2192 14.3316C22.2319 15.3443 22.8008 16.7179 22.8008 18.15ZM16.8248 15.7908C16.7471 15.7372 16.6566 15.7048 16.5625 15.697C16.4684 15.6892 16.3739 15.7063 16.2884 15.7464C16.2187 15.7774 16.1556 15.8214 16.1024 15.876C16.0465 15.9324 16.0023 15.9993 15.9725 16.0728C15.9426 16.1463 15.9276 16.2251 15.9284 16.3044V19.9944C15.9274 20.074 15.9424 20.1529 15.9722 20.2267C16.0021 20.3005 16.0463 20.3675 16.1024 20.424C16.1577 20.4778 16.2213 20.5224 16.2908 20.556C16.4125 20.6118 16.5507 20.6204 16.6784 20.58C16.7338 20.5621 16.7864 20.5363 16.8344 20.5032L19.5896 18.6228C19.6734 18.5675 19.7409 18.4909 19.7852 18.4008C19.8304 18.3099 19.8536 18.2097 19.853 18.1082C19.8524 18.0067 19.8279 17.9067 19.7816 17.8164C19.7341 17.728 19.6652 17.6529 19.5812 17.598L16.8248 15.7908Z" fill="white"/></svg>',
        ],
        [
            'active' => $currentRoute === 'download',
            'label' => 'حمل التطبيق',
            'route' => 'download',
            'icon' =>
                '<svg width="20" height="21" viewBox="0 0 20 21" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 9.66663V14.6666L9.16667 13" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M7.4987 14.6667L5.83203 13" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M18.3346 8.83329V13C18.3346 17.1666 16.668 18.8333 12.5013 18.8333H7.5013C3.33464 18.8333 1.66797 17.1666 1.66797 13V7.99996C1.66797 3.83329 3.33464 2.16663 7.5013 2.16663H11.668" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><path d="M18.3346 8.83329H15.0013C12.5013 8.83329 11.668 7.99996 11.668 5.49996V2.16663L18.3346 8.83329Z" stroke="white" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/></svg>',
        ],
        [
            'active' => $currentRoute === 'settings',
            'label' => 'الدعم الفني',
            'route' => 'settings',
            'icon' =>
                '<svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 16C9.93 16 8.25 14.32 8.25 12.25C8.25 10.18 9.93 8.5 12 8.5C14.07 8.5 15.75 10.18 15.75 12.25C15.75 14.32 14.07 16 12 16ZM12 10C10.76 10 9.75 11.01 9.75 12.25C9.75 13.49 10.76 14.5 12 14.5C13.24 14.5 14.25 13.49 14.25 12.25C14.25 11.01 13.24 10 12 10Z" fill="white"/><path d="M15.21 22.44C15 22.44 14.79 22.41 14.58 22.36C13.96 22.19 13.44 21.8 13.11 21.25L12.99 21.05C12.4 20.03 11.59 20.03 11 21.05L10.89 21.24C10.56 21.8 10.04 22.2 9.42 22.36C8.79 22.53 8.14 22.44 7.59 22.11L5.87 21.12C5.26 20.77 4.82 20.2 4.63 19.51C4.45 18.82 4.54 18.11 4.89 17.5C5.18 16.99 5.26 16.53 5.09 16.24C4.92 15.95 4.49 15.78 3.9 15.78C2.44 15.78 1.25 14.59 1.25 13.13V11.37C1.25 9.91004 2.44 8.72004 3.9 8.72004C4.49 8.72004 4.92 8.55004 5.09 8.26004C5.26 7.97004 5.19 7.51004 4.89 7.00004C4.54 6.39004 4.45 5.67004 4.63 4.99004C4.81 4.30004 5.25 3.73004 5.87 3.38004L7.6 2.39004C8.73 1.72004 10.22 2.11004 10.9 3.26004L11.02 3.46004C11.61 4.48004 12.42 4.48004 13.01 3.46004L13.12 3.27004C13.8 2.11004 15.29 1.72004 16.43 2.40004L18.15 3.39004C18.76 3.74004 19.2 4.31004 19.39 5.00004C19.57 5.69004 19.48 6.40004 19.13 7.01004C18.84 7.52004 18.76 7.98004 18.93 8.27004C19.1 8.56004 19.53 8.73004 20.12 8.73004C21.58 8.73004 22.77 9.92004 22.77 11.38V13.14C22.77 14.6 21.58 15.79 20.12 15.79C19.53 15.79 19.1 15.96 18.93 16.25C18.76 16.54 18.83 17 19.13 17.51C19.48 18.12 19.58 18.84 19.39 19.52C19.21 20.21 18.77 20.78 18.15 21.13L16.42 22.12C16.04 22.33 15.63 22.44 15.21 22.44ZM12 18.74C12.89 18.74 13.72 19.3 14.29 20.29L14.4 20.48C14.52 20.69 14.72 20.84 14.96 20.9C15.2 20.96 15.44 20.93 15.64 20.81L17.37 19.81C17.63 19.66 17.83 19.41 17.91 19.11C17.99 18.81 17.95 18.5 17.8 18.24C17.23 17.26 17.16 16.25 17.6 15.48C18.04 14.71 18.95 14.27 20.09 14.27C20.73 14.27 21.24 13.76 21.24 13.12V11.36C21.24 10.73 20.73 10.21 20.09 10.21C18.95 10.21 18.04 9.77004 17.6 9.00004C17.16 8.23004 17.23 7.22004 17.8 6.24004C17.95 5.98004 17.99 5.67004 17.91 5.37004C17.83 5.07004 17.64 4.83004 17.38 4.67004L15.65 3.68004C15.22 3.42004 14.65 3.57004 14.39 4.01004L14.28 4.20004C13.71 5.19004 12.88 5.75004 11.99 5.75004C11.1 5.75004 10.27 5.19004 9.7 4.20004L9.59 4.00004C9.34 3.58004 8.78 3.43004 8.35 3.68004L6.62 4.68004C6.36 4.83004 6.16 5.08004 6.08 5.38004C6 5.68004 6.04 5.99004 6.19 6.25004C6.76 7.23004 6.83 8.24004 6.39 9.01004C5.95 9.78004 5.04 10.22 3.9 10.22C3.26 10.22 2.75 10.73 2.75 11.37V13.13C2.75 13.76 3.26 14.28 3.9 14.28C5.04 14.28 5.95 14.72 6.39 15.49C6.83 16.26 6.76 17.27 6.19 18.25C6.04 18.51 6 18.82 6.08 19.12C6.16 19.42 6.35 19.66 6.61 19.82L8.34 20.81C8.55 20.94 8.8 20.97 9.03 20.91C9.27 20.85 9.47 20.69 9.6 20.48L9.71 20.29C10.28 19.31 11.11 18.74 12 18.74Z" fill="white"/></svg>',
        ],
    ];
@endphp


<aside
    class="sticky top-0 flex-none max-md:w-[80px] w-[120px] py-[10px] overflow-auto bg-primary dark:bg-gray-800 text-white min-h-screen flex flex-col items-center space-y-3 transition-colors duration-300">
    @foreach ($sidebarItems as $item)
        <a @if ($item['route'] == 'download') onclick="downloadApp()"
        @else
            href="{{ route($item['route']) }}" @endif
            class=" cursor-pointer p-2 max-md:p-1 rounded-md hover:bg-primary-hover dark:hover:bg-gray-700 min-w-[80px] duration-300 flex flex-col items-center text-sm space-y-2 hover:opacity-80 group
                  {{ $item['active'] ? 'bg-primary-hover dark:bg-gray-700' : '' }}">
            {!! str_replace('<svg', '<svg class="group-hover:scale-110 transition-transform duration-300"', $item['icon']) !!}
            <span class="font-medium max-md:text-[10px] text-sm text-center text-nowrap dark:text-gray-200">
                {{ $item['label'] }}
            </span>
        </a>
    @endforeach

    <div class=" pt-4 w-full px-2">

            <button onclick="openLogoutModal()"
                class="w-full p-2 max-md:p-1 rounded-md hover:bg-error-light dark:hover:bg-red-900/30 duration-300 flex flex-col items-center group">
                <svg width="30" height="31" viewBox="0 0 30 31" fill="none" xmlns="http://www.w3.org/2000/svg"
                    class="group-hover:animate-pulse">
                    <g filter="url(#filter0_d_917_4097)">
                        <path
                            d="M23.3443 17.6563H21.6966C21.5841 17.6563 21.4786 17.7055 21.4083 17.7922C21.2443 17.9914 21.0685 18.1836 20.8833 18.3664C20.1261 19.1245 19.2291 19.7286 18.2419 20.1453C17.2192 20.5773 16.1201 20.7989 15.0099 20.7969C13.8872 20.7969 12.7997 20.5766 11.7779 20.1453C10.7907 19.7286 9.89372 19.1245 9.13646 18.3664C8.37783 17.611 7.77292 16.7155 7.35521 15.7297C6.92162 14.7078 6.70365 13.6227 6.70365 12.5C6.70365 11.3774 6.92396 10.2922 7.35521 9.27035C7.7724 8.28363 8.3724 7.39535 9.13646 6.63363C9.90052 5.87191 10.7888 5.27191 11.7779 4.85472C12.7997 4.42347 13.8872 4.20316 15.0099 4.20316C16.1326 4.20316 17.2201 4.42113 18.2419 4.85472C19.231 5.27191 20.1193 5.87191 20.8833 6.63363C21.0685 6.81879 21.2419 7.01097 21.4083 7.20785C21.4786 7.29457 21.5865 7.34379 21.6966 7.34379H23.3443C23.4919 7.34379 23.5833 7.17972 23.5013 7.0555C21.7036 4.26175 18.5583 2.41254 14.9841 2.42191C9.36849 2.43597 4.86615 6.99457 4.9224 12.6032C4.97865 18.1227 9.47396 22.5782 15.0099 22.5782C18.5747 22.5782 21.706 20.7313 23.5013 17.9446C23.581 17.8203 23.4919 17.6563 23.3443 17.6563ZM25.4279 12.3524L22.1021 9.72738C21.9779 9.62894 21.7974 9.718 21.7974 9.87504V11.6563H14.438C14.3349 11.6563 14.2505 11.7407 14.2505 11.8438V13.1563C14.2505 13.2594 14.3349 13.3438 14.438 13.3438H21.7974V15.125C21.7974 15.2821 21.9802 15.3711 22.1021 15.2727L25.4279 12.6477C25.4503 12.6302 25.4684 12.6077 25.4809 12.5822C25.4933 12.5566 25.4998 12.5285 25.4998 12.5C25.4998 12.4716 25.4933 12.4435 25.4809 12.4179C25.4684 12.3923 25.4503 12.3699 25.4279 12.3524Z"
                            fill="#FF6969" />
                    </g>
                    <defs>
                        <filter id="filter0_d_917_4097" x="-1" y="0.5" width="32" height="32"
                            filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                            <feFlood flood-opacity="0" result="BackgroundImageFix" />
                            <feColorMatrix in="SourceAlpha" type="matrix"
                                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha" />
                            <feOffset dy="4" />
                            <feGaussianBlur stdDeviation="2" />
                            <feComposite in2="hardAlpha" operator="out" />
                            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0" />
                            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_917_4097" />
                            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_917_4097"
                                result="shape" />
                        </filter>
                    </defs>
                </svg>
                <span
                    class="font-medium max-md:text-[10px] text-sm text-center text-nowrap text-error dark:text-red-400 mt-1">
                    تسجيل خروج
                </span>
            </button>
    </div>


    {{-- download app --}}
    <div id="appModal"
        class=" !m-0 fixed hidden inset-0 z-[10000] flex items-center justify-center bg-black  backdrop-blur-[10px] bg-opacity-50  dark:bg-opacity-70 dark:bg-gray-900">
        <div class="bg-white dark:bg-gray-800 rounded-xl w-full max-w-lg p-6 relative text-right">
            <button onclick="closeAppModal()"
                class=" scale-[1.5] absolute top-4 left-4 text-gray-500 hover:text-red-500 text-xl dark:text-gray-300 dark:hover:text-red-400">
                &times;
            </button>

            <h2 class="text-lg font-semibold text-gray-800 mb-6 dark:text-white">كيفية تحميل التطبيق</h2>

            <ol class="relative pr-6 space-y-10 ">
                <li
                    class="dark:after:border-indigo-400  after:border-r-2 after:border-indigo-600 after:absolute after:w-full after:h-[calc(100%+16px)] after:top-6 ltr:after:hidden after:rtl:-left-[10px] relative flex items-start gap-4">
                    <div class="w-6 h-6 flex items-center justify-center rounded-full bg-indigo-600 text-white text-sm">
                        1</div>
                    <div class="flex-1">
                        <p class="text-sm font-semibold text-gray-800 dark:text-white">حمل التطبيق الآن</p>
                        <p class="text-sm text-gray-600 dark:text-gray-300">يمكنك تحميل التطبيق مباشرة من خلال النقر على
                            هذا الرابط:</p>
                        <a href="https://dev.ecostation.network/login"
                            class="text-xs text-blue-600 hover:underline dark:text-blue-400 underline cursor-pointer ">https://dev.ecostation.network/login</a>
                    </div>
                </li>

                <li
                    class="dark:border-indigo-400  after:border-r-2 after:border-orange-400 after:absolute after:w-full after:h-[calc(100%+16px)] after:top-6 ltr:after:hidden after:rtl:-left-[10px] relative  flex items-start gap-4">
                    <div class="w-6 h-6 flex items-center justify-center rounded-full bg-orange-400 text-white text-sm">
                        2</div>
                    <div class="flex-1">
                        <p class="text-sm font-semibold text-gray-800 dark:text-white">سجل دخولك إلى حسابك</p>
                        <p class="text-sm text-gray-600 dark:text-gray-300">أدخل بريدك الإلكتروني وكلمة المرور للوصول
                            إلى التطبيق وبدء استخدام جميع الميزات المتاحة.</p>
                    </div>
                </li>

                <li class="flex items-start gap-4">
                    <div class="w-6 h-6 flex items-center justify-center rounded-full bg-indigo-600 text-white text-sm">
                        3</div>
                    <div class="flex-1">
                        <p class="text-sm font-semibold text-gray-800 dark:text-white">تتبع مكالماتك بسهولة</p>
                        <p class="text-sm text-gray-600 dark:text-gray-300">تتبع مكالماتك بكل سهولة وذكاء مع تطبيقنا -
                            كل ما تحتاجه لإدارة وتحليل مكالماتك في مكان واحد.</p>
                    </div>
                </li>
            </ol>
        </div>
    </div>

    {{-- logout confirmation --}}
    <div id="logoutModal"
        class="!m-0 fixed hidden inset-0 z-[10000] flex items-center justify-center bg-black backdrop-blur-[10px] bg-opacity-50 dark:bg-opacity-70 dark:bg-gray-900">

        <div class="bg-white dark:bg-gray-800 rounded-xl w-full max-w-md p-6 relative text-right">
            <button onclick="closeLogoutModal()"
                class="scale-[1.5] absolute top-4 left-4 text-gray-500 hover:text-red-500 text-xl dark:text-gray-300 dark:hover:text-red-400">
                &times;
            </button>

            <h2 class="text-lg font-semibold text-gray-800 mb-4 dark:text-white">هل أنت متأكد من تسجيل الخروج؟</h2>

            <p class="text-sm text-gray-600 mb-6 dark:text-gray-300">
                عند تسجيل الخروج، سيتم إنهاء جلستك الحالية. يمكنك دائمًا تسجيل الدخول لاحقًا.
            </p>

            <div class="flex justify-end gap-4">
                <button onclick="closeLogoutModal()"
                    class="px-4 py-2 rounded-md bg-gray-200 text-gray-800 text-sm hover:bg-gray-300 dark:bg-gray-700 dark:text-white dark:hover:bg-gray-600">
                    إلغاء
                </button>
                <form method="POST" action="/logout">
                    @csrf
                    <button type="submit" class="px-4 py-2 rounded-md bg-red-500 text-white text-sm hover:bg-red-600">
                        تأكيد الخروج
                    </button>
                </form>
            </div>
        </div>
    </div>

</aside>

<script>
    function downloadApp() {
        document.getElementById('appModal').classList.remove('hidden');
    }

    function closeAppModal() {
        document.getElementById('appModal').classList.add('hidden');
    }

    function openLogoutModal() {
        document.getElementById('logoutModal').classList.remove('hidden');
    }

    function closeLogoutModal() {
        document.getElementById('logoutModal').classList.add('hidden');
    }
</script>
